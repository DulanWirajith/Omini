<!--Item side viewer-->
<div class="offcanvas offcanvas-end" id="package-viewer" style="width:50rem;">
  <div class="offcanvas-header d-block border-bottom">
    <div class="d-flex align-items-center justify-content-between">
      <div style="display: flex">
        <h2 class="h5 mb-0" style="margin-right: 15px">{{packageItem.itemPackage.name}}</h2>
        <span *ngIf="packageItem.itemPackage.itemPackageType==='Item'" class="badge rounded-pill bg-info"
              style="padding-top: 7px"> Item </span>
        <span *ngIf="packageItem.itemPackage.itemPackageType==='Package'" class="badge rounded-pill bg-success"
              style="padding-top: 7px"> Package </span>
      </div>
      <button id="item-close-btn" class="btn-close" type="button" data-bs-dismiss="offcanvas"></button>
    </div>

  </div>
  <div class="offcanvas-body">
    <!-- Tabs content-->
    <div class="tab-content">
      <!-- Item View-->
      <div class="tab-pane fade show active" id="package-view" role="tabpanel">
        <div class="row">
          <div class="row g-2 g-md-3 gallery" data-thumbnails="true" style="min-width: 30rem;">

            <div class="col-12" *ngIf="_album?.length > 0">
              <div class="row g-2 g-md-3 gallery" style="min-width: 30rem;">

                <div class="col-8">
                  <p class="gallery-item rounded rounded-md-3" (click)="open(firstImg)"
                     data-sub-html="<h6 class=&quot;fs-sm text-light&quot;></h6>" style="height: 100%;">
                    <img [src]="getAlbumSrc(firstImg)" alt="Gallery thumbnail">
                  </p>
                </div>
                <div class="col-4">
                  <p class="gallery-item rounded rounded-md-3 mb-2 mb-md-3" (click)="open(secondImg)"
                     data-sub-html="<h6 class=&quot;fs-sm text-light&quot;></h6>">
                    <img [src]="getAlbumSrc(secondImg)" alt="Gallery thumbnail">
                  </p>
                  <p class="gallery-item rounded rounded-md-3" (click)="open(thirdImg)"
                     data-sub-html="<h6 class=&quot;fs-sm text-light&quot;></h6>">
                    <img [src]="getAlbumSrc(thirdImg)" alt="Gallery thumbnail">
                  </p>
                </div>
                <div class="col-12" *ngIf="_album?.length > 3">
                  <div class="row g-2 g-md-3">
                    <ng-container *ngFor="let items of _album; let i=index;">
                      <ng-container *ngIf="_album?.length ===4 && i+1>3">
                        <div class="col-3">
                          <p class="gallery-item rounded-1 rounded-md-2" (click)="open(i)"
                             data-sub-html="<h6 class=&quot;fs-sm text-light&quot;></h6>">
                            <img [src]="getAlbumSrc(i)" alt="Gallery thumbnail">
                          </p>
                        </div>
                      </ng-container>
                      <ng-container *ngIf="_album?.length > 4 && i+1>3">
                        <div class="col">
                          <p class="gallery-item rounded-1 rounded-md-2" (click)="open(i)"
                             data-sub-html="<h6 class=&quot;fs-sm text-light&quot;></h6>">
                            <img [src]="getAlbumSrc(i)" alt="Gallery thumbnail">
                          </p>
                        </div>
                      </ng-container>
                      <!-- <div class="col" *ngIf="i>3">
                        <p class="gallery-item rounded rounded-md-3" (click)="open(i)" data-sub-html="<h6 class=&quot;fs-sm text-light&quot;></h6>">
                          <img [src]="getAlbumSrc(i)"   alt="Gallery thumbnail">
                        </p>
                      </div> -->
                    </ng-container>

                    <!-- <div class="col">
                      <p class="gallery-item rounded-1 rounded-md-2" (click)="open(thirdImg)" data-sub-html="<h6 class=&quot;fs-sm text-light&quot;></h6>">
                        <img [src]="getAlbumSrc(thirdImg)"   alt="Gallery thumbnail">
                      </p>
                    </div>
                    <div class="col">
                      <p class="gallery-item rounded-1 rounded-md-2" (click)="open(thirdImg)" data-sub-html="<h6 class=&quot;fs-sm text-light&quot;></h6>">
                        <img [src]="getAlbumSrc(thirdImg)"   alt="Gallery thumbnail">
                      </p>
                    </div> -->
                  </div>
                </div>
                <!-- <div class="col-3"  *ngFor="let image of _album; let i=index">
                  <p class="gallery-item rounded rounded-md-3 mb-2 mb-md-3" (click)="open(i)" data-sub-html="<h6 class=&quot;fs-sm text-light&quot;>Kids bed</h6>">
                    <img [src]="image.thumb"  [lightbox]="i"  [gallery]="'anotherLightbox'" alt="Gallery thumbnail">
                  </p>
                </div> -->


                <!-- <div class="col" *ngFor="let itemImg of item.itemImgs">
                  <a class="gallery-item rounded-1 rounded-md-2" href="./asset/img/catalog/03.jpg"
                     data-sub-html="&lt;h6 class=&quot;fs-sm text-light&quot;&gt;Working desk&lt;/h6&gt;">
                    <img [src]="getImageSrc(itemImg)" alt="Gallery thumbnail">
                  </a>
                </div> -->
                <!--<div class="col"><a class="gallery-item more-item rounded-1 rounded-md-2"-->
                <!--href="./asset/img/catalog/07.jpg"-->
                <!--data-sub-html="&lt;h6 class=&quot;fs-sm text-light&quot;&gt;Bathroom&lt;/h6&gt;"><img-->
                <!--src="./asset/img/catalog/07.jpg" alt="Gallery thumbnail"><span class="gallery-item-caption fs-base">+5 <span-->
                <!--class='d-none d-md-inline'>photos</span></span></a></div>-->
              </div>
            </div>
          </div>
        </div>
        <div class="rowg-3  mt-4">
          <h3 class="h4 mb-4"><i class="fi-info-circle text-primary fs-5 mt-n1 me-2"></i>Information</h3>
        </div>
        <div class="border-top border-light pt-0 mb-2">
          <div class="fw-bold" style="font-size: 21px;margin-top: 0px;margin-bottom: 15px">
            <i class="fi-cash mt-n1 me-2 lead align-middle opacity-70" style="font-size: 30px"></i>
            <span *ngIf="packageItem.itemPackage.discountType==='None'">LKR {{packageItem.itemPackage.price | number:'.2-2'}}</span>
            <span *ngIf="packageItem.itemPackage.discountType!=='None'"
                  style="text-decoration: line-through;color: red">LKR {{packageItem.itemPackage.price | number:'.2-2'}}</span>
            <span *ngIf="packageItem.itemPackage.discountType!=='None'" style="margin-left: 10px">LKR {{packageItem.itemPackage.discountedPrice | number:'.2-2'}}</span>
          </div>
          <div class="row cols-sm-2 row-cols-md-12"
               style="border-top: 1px solid #eaeaea;border-bottom: 1px solid #eaeaea;margin-top: 0px;margin-bottom: 20px">
            <div class="col" style="padding: 0px">
              <div *ngIf="packageItem.itemPackage.quantity>0" style="border-right: 1px solid #d3d3d3">
                <p class="mb-1 fs-sm" style="margin-top: 7px;color: #d48f03;font-weight: bold;text-align: center">
                  {{packageItem.itemPackage.makeToOrder?'Max':''}} Quantity
                </p>
                <p class="mb-2 fs-sm fw-bold mx-2" style="text-align: center;color: #f29d00">
                  {{packageItem.itemPackage.quantity}}</p>
              </div>
              <div *ngIf="packageItem.itemPackage.quantity===0"
                   style="border-right: 1px solid #d3d3d3;margin-top: 22px">
                <p class="mb-2 fs-sm fw-bold mx-2"
                   style="text-align: center;">
                  <span style="color: #f24605;padding: 5px;border: 1px solid #f24605;border-radius: 10px">
                    Out Of Stock
                  </span>
                </p>
              </div>
            </div>
            <div class="col" style="padding: 0px">
              <p class="mb-2 fs-sm" style="margin-top: 7px;color: #b94701;font-weight: bold;text-align: center">
                Discount </p>
              <p class="mb-2 fs-sm text-primary fw-bold" style="text-align: center">
                {{packageItem.itemPackage.discountType==='None' ? 'N/A' :
                packageItem.itemPackage.discountType==='Cash' ? ('LKR '+packageItem.itemPackage.discount) :
                packageItem.itemPackage.discountType==='Percentage' ? (packageItem.itemPackage.discount + '%') : ''}}
              </p>
            </div>
          </div>
        </div>

        <!--<div style="display: flex;border-bottom: 1px solid #eaeaea;padding-bottom: 10px">-->
        <!--<div class="mb-2 fs-sm text-dark fw-bold">Item Category |</div>-->
        <!--<div style="font-size: 14px;margin-left: 5px">-->
        <!--{{packageItem.itemPackage.itemCategory!==undefined?packageItem.itemPackage.itemCategory.name:'N/A'}}-->
        <!--</div>-->
        <!--</div>-->

        <div style="padding-top: 15px">
          <p class="mb-2 fs-sm text-dark fw-bold">Features </p>
          <span *ngFor="let itemPackageFeature of packageItem.itemPackage.itemPackageItemPackageFeatures"
                class="bg-success text-light fs-sm btn btn-xs disabled opacity-100 rounded-pill me-2 mb-2 ms-1 mt-1"
                style="margin-left: 10px">
              {{itemPackageFeature.itemPackageFeature.name}}
            <!--<i class="fi-x fs-xs ms-2"></i>-->
            </span>
        </div>

        <div class="row cols-md-12 mt-3">
          <p class="mb-2 fs-sm text-dark fw-bold">Overview </p>
          <div class="col">
            <p class="mb-2 fs-sm text-muted">{{packageItem.itemPackage.description}} </p>
          </div>
        </div>

        <div class="row" style="margin-top: 10px">
          <p class="mb-2 fs-sm text-dark fw-bold">Includes </p>
          <!--Item-->
          <div class="col-sm-12 col-md-6 col-xl-6" *ngFor="let packageItemItem of packageItem.packageItemItems">
            <div class="card shadow-sm card-hover border-0 h-100" *ngIf="packageItemItem.item!==undefined">
              <div class="tns-carousel-wrapper card-img-top card-img-hover" style="background-color: rgba(0,0,0,0.25)">
                <a class="img-overlay"></a>
                <div class="position-absolute start-0 top-0 pt-3 ps-3"><span
                  class="d-table badge bg-primary cursor-point"><h4
                  class="h6 text-light fs-sm" style="margin-bottom: 0px;"><i
                  class="fi-star fs-sm" style="margin-right: 5px"></i> {{packageItemItem.item.rating1 | number:'.1-1'}} / 5.0</h4></span>
                </div>
                <!--<div class="content-overlay end-0 top-0 pt-3 pe-3">-->
                <!--<button class="btn btn-icon btn-light btn-xs text-primary rounded-circle" type="button"-->
                <!--data-bs-toggle="tooltip" data-bs-placement="left" title="remove item"><i class="fi-trash"></i>-->
                <!--</button>-->
                <!--</div>-->

                <mdb-carousel class="carousel slide carousel-fade" [animation]="'fade'">
                  <mdb-carousel-item *ngFor="let image of packageItemItem.item.itemPackage.itemPackageImages">
                    <span style="height: 100%;width: 100%;background-color: rgba(0,0,0,0.25);position: absolute"></span>
                    <img style="max-height:200px;height: 200px" class="d-block w-100" [src]="getImageSrc(image)"
                         alt="First slide">
                  </mdb-carousel-item>
                </mdb-carousel>

              </div>
              <div class="card-body position-relative pb-3">

                <!-- <h4 class="mb-1 fs-xs fw-normal text-uppercase text-primary fw-bold">Not Available</h4> -->
                <h3 class="h6 mb-2 fs-base">
                  <a class="nav-link"
                     (click)="getItemPackageSelected(packageItem,packageItemItem.item)"
                     style="font-weight: bold;padding: 0px">{{packageItemItem.item.itemPackage.name}}</a></h3>
                <!-- <div class="d-flex align-items-center text-nowrap">
                  <p class="mb-2 fs-sm text-muted">Quantity </p>
                  <p class="mb-2 fs-sm text-primary fw-bold mx-2"> 250g</p>
                </div> -->
                <div class="row g-2">

                </div>
                <!--<div class="row cols-sm-2 row-cols-md-12"-->
                <!--style="border-top: 1px solid #eaeaea;border-bottom: 1px solid #eaeaea;margin-top: 10px;margin-bottom: 10px">-->
                <!--<div class="col" style="padding: 0px">-->
                <!--<div style="border-right: 1px solid #d3d3d3">-->
                <!--<p class="mb-1 fs-sm" style="margin-top: 7px;color: #d48f03;font-weight: bold;text-align: center">-->
                <!--Quantity </p>-->
                <!--<p class="mb-2 fs-sm fw-bold mx-2" style="text-align: center;color: #f29d00">-->
                <!--{{packageItemItem.item.itemPackage.quantity}}</p>-->
                <!--</div>-->
                <!--</div>-->
                <!--<div class="col" style="padding: 0px">-->
                <!--<p class="mb-2 fs-sm" style="margin-top: 7px;color: #b94701;font-weight: bold;text-align: center">-->
                <!--Discount </p>-->
                <!--<p class="mb-2 fs-sm text-primary fw-bold" style="text-align: center">-->
                <!--{{packageItemItem.item.itemPackage.discountType==='None' ? 'N/A' :-->
                <!--packageItemItem.item.itemPackage.discountType==='Cash' ? ('LKR '+packageItemItem.item.itemPackage.discount) :-->
                <!--packageItemItem.item.itemPackage.discountType==='Percentage' ? (packageItemItem.item.itemPackage.discount + '%') : ''}}-->
                <!--</p>-->
                <!--&lt;!&ndash;<p *ngIf="item.itemDiscountType==='None'" class="mb-2 fs-sm text-primary fw-bold">N/A</p>&ndash;&gt;-->
                <!--&lt;!&ndash;<p *ngIf="item.itemDiscountType==='Cash'" class="mb-2 fs-sm text-primary fw-bold">{{"LKR " + item.itemDiscount}}</p>&ndash;&gt;-->
                <!--&lt;!&ndash;<p *ngIf="item.itemDiscountType==='Percentage'" class="mb-2 fs-sm text-primary fw-bold">{{item.itemDiscount + "%"}}</p>&ndash;&gt;-->
                <!--</div>-->
                <!--</div>-->
                <!--<div class="fw-bold">-->
                <!--<i class="fi-cash mt-n1 me-2 lead align-middle opacity-70" style="font-size: 30px"></i>-->
                <!--<span *ngIf="packageItemItem.item.itemPackage.discountType==='None'">LKR {{packageItemItem.item.itemPackage.price | number:'.2-2'}}</span>-->
                <!--<span *ngIf="packageItemItem.item.itemPackage.discountType!=='None'"-->
                <!--style="text-decoration: line-through;color: red">LKR {{packageItemItem.item.itemPackage.price | number:'.2-2'}}</span>-->
                <!--<span *ngIf="packageItemItem.item.itemPackage.discountType!=='None'" style="margin-left: 10px">LKR {{packageItemItem.item.itemPackage.discountedPrice | number:'.2-2'}}</span>-->
                <!--</div>-->
              </div>
              <!--<div class="card-footer d-flex align-items-center justify-content-center mx-3 pt-3 text-nowrap">-->
              <!--<div class="form-check form-switch">-->
              <!--<input class="form-check-input" type="checkbox" [checked]="itemItemPackage.item.available"-->
              <!--(click)="setItemPackageAvailable(item)">-->
              <!--<label *ngIf="!itemItemPackage.item.available"-->
              <!--class="form-check-label fs-xs fw-normal text-uppercase text-primary fw-bold">-->
              <!--Not Available</label>-->
              <!--<label *ngIf="itemItemPackage.item.available" class="form-check-label fs-xs fw-normal text-uppercase text-green fw-bold">-->
              <!--Available</label>-->
              <!--</div>-->
              <!--&lt;!&ndash;<div class="form-check form-switch" *ngIf="item.itemAvailable">&ndash;&gt;-->
              <!--&lt;!&ndash;<input class="form-check-input" type="checkbox" checked>&ndash;&gt;-->
              <!--&lt;!&ndash;<label class="form-check-label fs-xs fw-normal text-uppercase text-green fw-bold">&ndash;&gt;-->
              <!--&lt;!&ndash;Available</label>&ndash;&gt;-->
              <!--&lt;!&ndash;</div>&ndash;&gt;-->
              <!--</div>-->
            </div>
          </div>

        </div>

      </div>

      <!--Item Edit-->
      <div class="tab-pane fade" id="package-edit" role="tabpanel" *ngIf="itemPackageObj.backBtn===undefined">
        <div class="card card-body">
          <form #baManageFormPackageE="ngForm"
                (ngSubmit)="baManageFormPackageE.form.valid && (packageItem.itemPackage.itemImgsRaw.length+packageItem.itemPackage.itemPackageImages.length)>=3 && onSubmit()"
                novalidate>

            <div class="row">
              <div class="col-md-12 mb-3">
                <label class="form-label" for="validationTooltipp1"
                >Package name</label
                >
                <a class="btn btn-icon btn-light btn-xs text-primary content-overlay mb-2 ms-auto help"
                   data-bs-toggle="tooltip" title="Suitable Package name" data-bs-original-title="Suitable Package name"
                   aria-label="Suitable Package name"><i class="fi-help"></i>
                </a>
                <input
                  class="form-control"
                  type="text"
                  id="validationTooltipp1"
                  placeholder="Package name"
                  [(ngModel)]="packageItem.itemPackage.name" #packageNameE="ngModel" name="packageName"
                  required
                />
                <div *ngIf="(packageNameE.touched || baManageFormPackageE.submitted) && packageNameE.errors?.required"
                     class="validErr">
                  Package Name is required
                </div>
              </div>
              <div class="col-md-4 mb-3">
                <label class="form-label" for="validationTooltip02"
                >Quantity</label
                >
                <a class="btn btn-icon btn-light btn-xs text-primary content-overlay mb-2 ms-auto help"
                   data-bs-toggle="tooltip" title="Item quantity" data-bs-original-title="Item quantity"
                   aria-label="Item quantity"><i class="fi-help"></i>
                </a>
                <input
                  class="form-control"
                  type="number"
                  placeholder="Quantity"
                  id="validationTooltip02"
                  min="1"
                  required
                  [(ngModel)]="packageItem.itemPackage.quantity" #packageQtyE="ngModel" name="packageQtyE"
                />
                <div *ngIf="(packageQtyE.touched || baManageFormPackageE.submitted) && packageQtyE.errors?.required"
                     class="validErr">
                  Quantity is required
                </div>
                <div class="valid-tooltip">Looks good!</div>
              </div>
              <div class="col-md-4 mb-3" style="margin-top: 46px">
                <label>
                  Make To Order
                  <input type="checkbox" name="makeToOrder" style="margin-left: 5px; transform: scale(1.4)"
                         [(ngModel)]="packageItem.itemPackage.makeToOrder">
                </label>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4 mb-3">
                <label class="form-label" for="validationTooltipp2"
                >Discount type</label
                >
                <a class="btn btn-icon btn-light btn-xs text-primary content-overlay mb-2 ms-auto help"
                   data-bs-toggle="tooltip" title="Please select suitable discount type."
                   data-bs-original-title="Please select suitable discount type."
                   aria-label="Please select suitable discount type."><i class="fi-help"></i>
                </a>
                <select
                  class="form-select"
                  id="validationTooltipp2"
                  [(ngModel)]="packageItem.itemPackage.discountType" #discountTypeE="ngModel" name="discountType"
                >
                  <option value="None">None</option>
                  <option value="Cash">Cash</option>
                  <option value="Percentage">Percentage</option>
                </select>
                <!--<div *ngIf="(discountType.touched || baManageFormPackage.submitted) && discountType.errors?.required"-->
                <!--class="validErr">-->
                <!--Package Name is required-->
                <!--</div>-->
                <div class="valid-tooltip">Looks good!</div>
              </div>
              <div class="col-md-4 mb-3" *ngIf="packageItem.itemPackage.discountType!=='None'">
                <label class="form-label" for="validationTooltipp3"
                >Discount</label
                >
                <a class="btn btn-icon btn-light btn-xs text-primary content-overlay mb-2 ms-auto help"
                   data-bs-toggle="tooltip" title="Please enter package discount."
                   data-bs-original-title="Please enter package discount."
                   aria-label="Please enter package discount."><i
                  class="fi-help"></i>
                </a>
                <input
                  class="form-control"
                  type="number"
                  id="validationTooltipp3"
                  placeholder="Discount"
                  [(ngModel)]="packageItem.itemPackage.discount" #discountE="ngModel" name="discount"
                  required
                />
                <div *ngIf="(discountE.touched || baManageFormPackageE.submitted) && discountE.errors?.required"
                     class="validErr">
                  Discount is required
                </div>
              </div>
              <div class="col-md-4 mb-3">
                <label class="form-label" for="validationTooltipp3"
                >Price (LKR)</label
                >
                <a class="btn btn-icon btn-light btn-xs text-primary content-overlay mb-2 ms-auto help"
                   data-bs-toggle="tooltip" title="Please enter package price."
                   data-bs-original-title="Please enter package price." aria-label="Please enter package price."><i
                  class="fi-help"></i>
                </a>
                <!-- <input
                  class="form-control"
                  type="text"
                  id="validationTooltip02"
                  placeholder="Price"
                  value=""
                  required
                /> -->
                <div class="input-group">
                  <span class="input-group-text fs-lg py-1">LKR</span>
                  <input type="number" class="form-control" id="validationTooltipp3" placeholder="Amount" required
                         [(ngModel)]="packageItem.itemPackage.price" #priceE="ngModel" name="price">
                  <!--<span class="input-group-text">.00</span>-->
                  <!--<div class="invalid-tooltip">-->
                  <!--Please enter itemPackage price-->
                  <!--</div>-->
                  <!--<div class="valid-tooltip">Looks good!</div>-->
                </div>
                <div *ngIf="(priceE.touched || baManageFormPackageE.submitted) && priceE.errors?.required"
                     class="validErr">
                  Price is required
                </div>

              </div>
            </div>
            <div class="row">
              <div class="col-md-12 mb-3">
                <label class="form-label"
                >Business type </label
                >
                <a class="btn btn-icon btn-light btn-xs text-primary content-overlay mb-2 ms-auto help"
                   data-bs-toggle="tooltip" title="Select this item belongs to which type of business"
                   data-bs-original-title="Select this item belongs to which type of business"
                   aria-label="Select this item belongs to which type of business"><i class="fi-help"></i>
                </a>
                <!-- <div class="d-flex flex-column flex-sm-row"> -->
                <ng-select
                  [items]="businessCategories"
                  bindLabel="name"
                  placeholder="Select Business Type"
                  dropdownPosition="auto"
                  [multiple]="false"
                  [searchWhileComposing]="true"
                  name="businessProfileCategories"
                  #businessProfileCategoriesE="ngModel" required
                  (change)="getItems(packageItem.itemPackage.businessProfileCategory.businessCategory.businessCategoryId,packageItem);getItemPackageFeatures(packageItem.itemPackage.businessProfileCategory.businessCategory.businessCategoryId)"
                  [(ngModel)]="packageItem.itemPackage.businessProfileCategory.businessCategory">
                </ng-select>
                <div
                  *ngIf="(businessProfileCategoriesE.touched || baManageFormPackageE.submitted) && businessProfileCategoriesE.errors?.required"
                  class="validErr">
                  Business type is required
                </div>
                <!-- <div class="invalid-tooltip">
                  Please fill item quantity
                </div>
                <div class="valid-tooltip">Looks good!</div> -->
                <!-- <button type="button" class="btn btn-light-primary btn-icon shadow-sm">
                  <i class="fi-plus"></i>
                </button> -->
                <!-- <button class="btn btn-translucent-primary rounded-pill" type="button">Add</button> -->
                <!-- </div> -->

              </div>
            </div>
            <div class="row">
              <div class="col-md-12 mb-3">
                <label class="form-label" for="validationTooltip04"
                >Items</label
                >
                <a class="btn btn-icon btn-light btn-xs text-primary content-overlay mb-2 ms-auto help"
                   data-bs-toggle="tooltip" title="You can add items for this pakage."
                   data-bs-original-title="You can add items for this pakage."
                   aria-label="You can add items for this pakage."><i class="fi-help"></i>
                </a>
                <a data-bs-toggle="offcanvas"
                   data-bs-target="#packageOnlyItem-viewer"
                   class="btn btn-icon btn-light btn-xs text-primary content-overlay mb-2 ms-3 fw-bold"
                   title="You can create new feature." data-bs-original-title="You can create new package only item."
                   aria-label="You can create new package only item." style="padding-left: 20px;padding-top: 4px"
                   (click)="setItemsToItemAdd(packageItem.packageItemItems)">Create
                  Item
                </a>
                <!--<form #baManageFormPackageItemExs="ngForm" (ngSubmit)="baManageFormPackageItemExs.form.valid && addItem()"-->
                <!--novalidate>-->

                <div class="d-flex flex-column flex-sm-row">
                  <div style="width: 100%">
                    <div>
                      <ng-select
                        [items]="itemsToAdd"
                        bindLabel="name"
                        placeholder="Select Item"
                        dropdownPosition="auto"
                        [multiple]="false"
                        [searchWhileComposing]="true"
                        name="packageItemItems"
                        #itemsE="ngModel"
                        [(ngModel)]="selectedPackageItem"
                        style="width: 100%">
                      </ng-select>
                    </div>
                    <div
                      *ngIf="(baManageFormPackageE.submitted) && packageItem.packageItemItems.length===0"
                      class="validErr">
                      Item is required
                    </div>

                    <div class="row" style="margin-top: 10px">
                      <div class="col-sm-12 col-md-6 col-xl-6" style="margin-top: 10px"
                           *ngFor="let packageItemItem of packageItem.packageItemItems;let j=index">
                        <div class="card shadow-sm card-hover border-0 h-100" *ngIf="packageItemItem.item!==undefined">
                          <div class="tns-carousel-wrapper card-img-top card-img-hover"
                               style="background-color: rgba(0,0,0,0.25)">
                            <a class="img-overlay"></a>
                            <div class="position-absolute start-0 top-0 pt-3 ps-3"
                            style="width: 95%;display: flex;justify-content: right">
                              <!--<span class="d-table badge bg-primary cursor-point">-->
                              <!--<h4 class="h6 text-light fs-sm" style="margin-bottom: 0px;">-->
                              <!--<i class="fi-star fs-sm"></i> 4.5 / 5</h4></span>-->

                              <i class="fi-trash"
                                 style="color: red;padding: 5px;background-color: white;border-radius: 10px;cursor: pointer;font-size: 15px;"
                                 (click)="packageItem.packageItemItems.splice(j,1)"></i>
                            </div>

                            <mdb-carousel class="carousel slide carousel-fade" [animation]="'fade'">
                              <mdb-carousel-item
                                *ngFor="let image of packageItemItem.item.itemPackage.itemPackageImages">
                                <span
                                  style="height: 100%;width: 100%;background-color: rgba(0,0,0,0.25);position: absolute"></span>
                                <img style="max-height:200px;height: 200px" class="d-block w-100"
                                     [src]="getImageSrc(image)"
                                     alt="First slide">
                              </mdb-carousel-item>
                            </mdb-carousel>

                          </div>
                          <div class="card-body position-relative pb-3">

                            <!-- <h4 class="mb-1 fs-xs fw-normal text-uppercase text-primary fw-bold">Not Available</h4> -->
                            <h3 class="h6 mb-2 fs-base">
                              <a class="nav-link"
                                 data-bs-toggle="offcanvas"
                                 (click)="getItemSelected(packageItemItem.item)"
                                 data-bs-target="#packageOnlyItem-viewer"
                                 style="font-weight: bold;padding: 0px">{{packageItemItem.item.itemPackage.name}}</a>
                            </h3>
                            <!-- <div class="d-flex align-items-center text-nowrap">
                              <p class="mb-2 fs-sm text-muted">Quantity </p>
                              <p class="mb-2 fs-sm text-primary fw-bold mx-2"> 250g</p>
                            </div> -->
                            <div class="row g-2">

                            </div>
                            <!--<div class="row cols-sm-2 row-cols-md-12"-->
                            <!--style="border-top: 1px solid #eaeaea;border-bottom: 1px solid #eaeaea;margin-top: 10px;margin-bottom: 10px">-->
                            <!--<div class="col" style="padding: 0px">-->
                            <!--<div style="border-right: 1px solid #d3d3d3">-->
                            <!--<p class="mb-1 fs-sm" style="margin-top: 7px;color: #d48f03;font-weight: bold;text-align: center">-->
                            <!--Quantity </p>-->
                            <!--<p class="mb-2 fs-sm fw-bold mx-2" style="text-align: center;color: #f29d00">-->
                            <!--{{packageItemItem.item.itemPackage.quantity}}</p>-->
                            <!--</div>-->
                            <!--</div>-->
                            <!--<div class="col" style="padding: 0px">-->
                            <!--<p class="mb-2 fs-sm" style="margin-top: 7px;color: #b94701;font-weight: bold;text-align: center">-->
                            <!--Discount </p>-->
                            <!--<p class="mb-2 fs-sm text-primary fw-bold" style="text-align: center">-->
                            <!--{{packageItemItem.item.itemPackage.discountType==='None' ? 'N/A' :-->
                            <!--packageItemItem.item.itemPackage.discountType==='Cash' ? ('LKR '+packageItemItem.item.itemPackage.discount) :-->
                            <!--packageItemItem.item.itemPackage.discountType==='Percentage' ? (packageItemItem.item.itemPackage.discount + '%') : ''}}-->
                            <!--</p>-->
                            <!--&lt;!&ndash;<p *ngIf="item.itemDiscountType==='None'" class="mb-2 fs-sm text-primary fw-bold">N/A</p>&ndash;&gt;-->
                            <!--&lt;!&ndash;<p *ngIf="item.itemDiscountType==='Cash'" class="mb-2 fs-sm text-primary fw-bold">{{"LKR " + item.itemDiscount}}</p>&ndash;&gt;-->
                            <!--&lt;!&ndash;<p *ngIf="item.itemDiscountType==='Percentage'" class="mb-2 fs-sm text-primary fw-bold">{{item.itemDiscount + "%"}}</p>&ndash;&gt;-->
                            <!--</div>-->
                            <!--</div>-->
                            <!--<div class="fw-bold">-->
                            <!--<i class="fi-cash mt-n1 me-2 lead align-middle opacity-70" style="font-size: 30px"></i>-->
                            <!--<span *ngIf="packageItemItem.item.itemPackage.discountType==='None'">LKR {{packageItemItem.item.itemPackage.price | number:'.2-2'}}</span>-->
                            <!--<span *ngIf="packageItemItem.item.itemPackage.discountType!=='None'"-->
                            <!--style="text-decoration: line-through;color: red">LKR {{packageItemItem.item.itemPackage.price | number:'.2-2'}}</span>-->
                            <!--<span *ngIf="packageItemItem.item.itemPackage.discountType!=='None'" style="margin-left: 10px">LKR {{packageItemItem.item.itemPackage.discountedPrice | number:'.2-2'}}</span>-->
                            <!--</div>-->
                          </div>
                          <!--<div class="card-footer d-flex align-items-center justify-content-center mx-3 pt-3 text-nowrap">-->
                          <!--<div class="form-check form-switch">-->
                          <!--<input class="form-check-input" type="checkbox" [checked]="itemItemPackage.item.available"-->
                          <!--(click)="setItemPackageAvailable(item)">-->
                          <!--<label *ngIf="!itemItemPackage.item.available"-->
                          <!--class="form-check-label fs-xs fw-normal text-uppercase text-primary fw-bold">-->
                          <!--Not Available</label>-->
                          <!--<label *ngIf="itemItemPackage.item.available" class="form-check-label fs-xs fw-normal text-uppercase text-green fw-bold">-->
                          <!--Available</label>-->
                          <!--</div>-->
                          <!--&lt;!&ndash;<div class="form-check form-switch" *ngIf="item.itemAvailable">&ndash;&gt;-->
                          <!--&lt;!&ndash;<input class="form-check-input" type="checkbox" checked>&ndash;&gt;-->
                          <!--&lt;!&ndash;<label class="form-check-label fs-xs fw-normal text-uppercase text-green fw-bold">&ndash;&gt;-->
                          <!--&lt;!&ndash;Available</label>&ndash;&gt;-->
                          <!--&lt;!&ndash;</div>&ndash;&gt;-->
                          <!--</div>-->
                        </div>
                      </div>
                    </div>
                    <!--<div style="color: blue;padding-left: 10px;padding-top: 5px">-->
                    <!--Add new feature-->
                    <!--</div>-->
                  </div>
                  <!--<button style="margin-left: 10px" type="submit"-->
                  <!--class="btn btn-light-primary btn-icon shadow-sm">-->
                  <!--<i class="fi-plus"></i>-->
                  <!--</button>-->
                  <!-- <div class="invalid-tooltip">
                    Please fill item quantity
                  </div>
                  <div class="valid-tooltip">Looks good!</div> -->
                  <button style="margin-left: 10px" (click)="addPackageItem()"
                          class="btn btn-light-primary btn-icon shadow-sm">
                    <i class="fi-plus"></i>
                  </button>
                  <!-- <button class="btn btn-translucent-primary rounded-pill" type="button">Add</button> -->
                </div>
                <!--</form>-->
              </div>
            </div>
            <!--<div class="row">-->
            <!--<div class="d-flex flex-wrap mb-4">-->
            <!--<span *ngFor="let itemPackage of itemPackage.itemItemPackages;let i = index"-->
            <!--class="bg-success text-light fs-sm btn btn-xs opacity-100 rounded-pill me-2 mb-2 ms-1 mt-1">{{itemPackage.item.name}}-->
            <!--<i class="fi-x fs-xs ms-2" (click)="itemPackage.itemItemPackages.splice(i,1)"-->
            <!--style="cursor: pointer"></i>-->
            <!--</span>-->
            <!--</div>-->
            <!--</div>-->
            <div class="row">
              <div class="col-md-12 mb-3">
                <label class="form-label" for="validationTooltip04"
                >Features</label
                >
                <a class="btn btn-icon btn-light btn-xs text-primary content-overlay mb-2 ms-auto help"
                   data-bs-toggle="tooltip" title="You can add if there any features"
                   data-bs-original-title="You can add if there any features"
                   aria-label="You can add if there any features"><i class="fi-help"></i>
                </a>
                <a href="#new-packageFeature-edit" data-bs-toggle="modal" data-bs-dismiss="modal"
                   class="btn btn-icon btn-light btn-xs text-primary content-overlay mb-2 ms-3 fw-bold createFeature"
                   title="You can create new feature." data-bs-original-title="You can create new feature."
                   aria-label="You can create new feature." style="padding-left: 20px;padding-top: 4px">Create
                  Feature
                </a>

                <form #baManageFormPackageExs="ngForm"
                      (ngSubmit)="baManageFormPackageExs.form.valid && addFeature()"
                      novalidate>

                  <div class="d-flex flex-column flex-sm-row">
                    <div style="width: 100%">
                      <div>
                        <ng-select
                          [items]="itemPackageFeatures"
                          bindLabel="name"
                          placeholder="Select Feature"
                          dropdownPosition="auto"
                          [multiple]="false"
                          [searchWhileComposing]="true"
                          name="iFeature"
                          #iFeature="ngModel" required
                          [(ngModel)]="packageItem.itemPackage.itemPackageItemPackageFeature"
                          style="width: 100%">
                        </ng-select>
                      </div>
                      <div *ngIf="(baManageFormPackageExs.submitted) && itemPackageFeature===undefined"
                           class="validErr">
                        Feature is required
                      </div>
                      <!--<div style="color: blue;padding-left: 10px;padding-top: 5px">-->
                      <!--Add new feature-->
                      <!--</div>-->
                    </div>
                    <!-- <div class="invalid-tooltip">
                      Please fill item quantity
                    </div>
                    <div class="valid-tooltip">Looks good!</div> -->
                    <button style="margin-left: 10px" type="submit"
                            class="btn btn-light-primary btn-icon shadow-sm">
                      <i class="fi-plus"></i>
                    </button>
                    <!-- <button class="btn btn-translucent-primary rounded-pill" type="button">Add</button> -->
                  </div>
                </form>

              </div>
            </div>
            <div class="row">
              <div class="d-flex flex-wrap mb-4">
                <span
                  *ngFor="let itemPackageFeature of packageItem.itemPackage.itemPackageItemPackageFeatures;let j = index"
                  class="bg-success text-light fs-sm btn btn-xs opacity-100 rounded-pill me-2 mb-2 ms-1 mt-1">{{itemPackageFeature.itemPackageFeature.name}}
                  <i class="fi-x fs-xs ms-2"
                     (click)="packageItem.itemPackage.itemPackageItemPackageFeatures.splice(i,1)"
                     style="cursor: pointer"></i>
                </span>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12 mb-3">
                <label class="form-label" for="validationTooltipp5"
                >Description</label
                >
                <a class="btn btn-icon btn-light btn-xs text-primary content-overlay mb-2 ms-auto help"
                   data-bs-toggle="tooltip" title="Small description about your package."
                   data-bs-original-title="Small description about your package."
                   aria-label="Small description about your package."><i class="fi-help"></i>
                </a>
                <textarea class="form-control" id="validationTooltipp5" rows="5" placeholder="Description"
                          [(ngModel)]="packageItem.itemPackage.description" name="description"></textarea>
                <div class="invalid-tooltip">
                  Please write something about your package
                </div>
                <div class="valid-tooltip">Looks good!</div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12 mb-3">
                <div class="alert alert-info mb-4" role="alert">
                  <div class="d-flex"><i class="fi-alert-circle me-2 me-sm-3"></i>
                    <p class="fs-sm mb-1">The maximum photo size is 5 MB. Formats: jpeg, jpg, png. Put the main picture
                      first.</p>
                  </div>
                </div>
                <!--<input class="file-uploader file-uploader-grid" type='file' accept="image/*" #imageInput="ngModel"-->
                <!--data-max-file-size="5MB"-->
                <!--[(ngModel)]="imgUrl" name="imageInput"-->
                <!--(change)="processFile($event)" required>-->
                <file-pond
                  class="file-uploader-grid"
                  #imageInput
                  [options]="pondOptions"
                  name="imageInput"
                  (onaddfile)="pondHandleAddFile($event)"
                  (onremovefile)="pondHandlerRemoveFile($event)">
                </file-pond>
                <!--<input class="file-uploader file-uploader-grid" type="file" multiple data-max-file-size="10MB"-->
                <!--accept="image/png, image/jpeg"-->
                <!--data-label-idle="&lt;div class=&quot;btn btn-primary mb-3&quot;&gt;&lt;i class=&quot;fi-cloud-upload me-1&quot;&gt;&lt;/i&gt;Upload photos&lt;/div&gt;&lt;br&gt;or drag them in">-->
              </div>
              <div
                *ngIf="((packageItem.itemPackage.itemImgsRaw.length+packageItem.itemPackage.itemPackageImages.length)<3 && baManageFormPackageE.submitted)"
                class="validErr" style="margin-bottom: 10px">
                Minimum 3 images are required
              </div>
              <div class="col-md-4 mb-4"
                   *ngFor='let itemPackageImage of packageItem.itemPackage.itemPackageImages;let j = index'>
                <div style="position: relative" class="delImgT">
                  <img [src]="getImageSrc(itemPackageImage)" style="margin: 3px;height: 200px;width: 300px">
                  <span class="delImg">
                    <i class="fi-trash"
                       style="color: red;padding: 5px;background-color: white;border-radius: 10px;cursor: pointer;font-size: 25px;"
                       (click)="packageItem.itemPackage.itemPackageImages.splice(j,1)"></i>
                  </span>
                </div>
              </div>
            </div>
            <div class="mb-3 py-2">
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  id="invalidCheckP"
                  [(ngModel)]="packageItem.isNewPackage"
                  name="newPackage"
                  required
                />
                <label class="form-check-label" for="invalidCheckP"
                >I confirm that the information provided information is accurate and correct.</label
                >
                <div class="invalid-tooltip">
                  You must agree before submitting.
                </div>
              </div>
            </div>
            <button class="btn btn-primary btn-md" type="submit" [disabled]="!packageItem.isNewPackage">
              Save
            </button>
          </form>
        </div>
      </div>

      <div class="tab-pane fade" id="package-review" role="tabpanel">
        <div class="card card-body">
          <!-- Reviews-->
          <div class="mb-4 pb-4 border-bottom">
            <h3 class="h4 pb-3"><i class="fi-star-filled mt-n1 me-2 lead align-middle text-warning"></i>
              {{itemPackageReview.rating}} ({{itemPackageReview.itemPackageReviews.length}} review{{itemPackageReview.itemPackageReviews.length>1?'s':''}})
            </h3>
            <div
              class="d-flex flex-sm-row flex-column align-items-sm-center align-items-stretch justify-content-between">
              <a *ngIf="getUser()!==null && getUser().role==='C'" class="btn btn-outline-primary mb-sm-0 mb-3"
                 href="#add-review" data-bs-toggle="collapse" role="button"
                 aria-expanded="false" aria-controls="add-review"><i class="fi-edit me-1"></i>Add review</a>
              <div class="d-flex align-items-center ms-sm-4">
                <label class="me-2 pe-1 text-nowrap" for="reviews-sorting"><i
                  class="fi-arrows-sort text-muted mt-n1 me-2"></i>Sort by:</label>
                <select class="form-select" id="reviews-sorting">
                  <option>Newest</option>
                  <option>Oldest</option>
                  <option>Popular</option>
                  <option>High rating</option>
                  <option>Low rating</option>
                </select>
              </div>
            </div>
          </div>
          <!-- Review-->
          <div class="mb-4 pb-4" *ngFor="let itemPackageReview of itemPackageReview.itemPackageReviews;let isLast=last"
               [ngClass]="!isLast?'border-bottom':''">
            <div class="d-flex justify-content-between mb-3">
              <div class="d-flex align-items-center pe-2"><img class="rounded-circle me-1"
                                                               src="assets/img/37.png" width="48" alt="Avatar">
                <div class="ps-2">
                  <h6 class="fs-base mb-0">
                    {{itemPackageReview.customerProfile.firstName + ' ' + itemPackageReview.customerProfile.lastName}}
                  </h6>
                  <span class="star-rating">
                      <i *ngFor="let rating of [].constructor(itemPackageReview.tempRating)"
                         class="star-rating-icon fi-star-filled active"></i>
                      <i *ngFor="let rating of [].constructor(5-itemPackageReview.tempRating)"
                         class="star-rating-icon fi-star-filled"></i>
                    </span>
                </div>
              </div>
              <!--<span class="text-muted fs-sm">Jan 17, 2021</span>-->
              <span class="text-muted fs-sm">{{itemPackageReview.postedDate}}</span>
            </div>
            <p>{{itemPackageReview.description}}</p>
            <div class="d-flex align-items-center">
              <button class="btn-like" type="button" (click)="addItemReviewResponse(itemPackageReview,'like')"
                      [ngStyle]="{'color':
              itemPackageReview.responseByMe!==undefined?
              itemPackageReview.responseByMe.response==='like'?'green':'':''}">
                <i class="fi-like"></i>
                <span>({{itemPackageReview.likeCount}})</span>
              </button>
              <div class="border-end me-1">&nbsp;</div>
              <button class="btn-dislike" type="button" (click)="addItemReviewResponse(itemPackageReview,'dislike')"
                      [ngStyle]="{'color':
              itemPackageReview.responseByMe!==undefined?
              itemPackageReview.responseByMe.response==='dislike'?'red':'':''}">
                <i class="fi-dislike"></i>
                <span>({{itemPackageReview.dislikeCount}})</span>
              </button>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
  <div class="offcanvas-footer border-top" style="display: block;">
    <ul class="nav nav-tabs justify-content-end" role="tablist">
      <li class="nav-item me-2" *ngIf="itemPackageObj.backBtn!==undefined && !review">
        <a class="btn btn-md btn-outline-info package-viewer-g-btn" [attr.data-bs-target]="'#'+itemPackageObj.backBtn"
           role="tab" (click)="goBack()"><i
          class="fi-arrow-back fs-lg me-2"></i>Back</a>
      </li>
      <!--<li class="nav-item me-2" *ngIf="backBtn" (click)="backBtn=false">-->
      <!--<a id="package-back-btn" class="btn btn-md btn-outline-info item-viewer-g-btn" href="#item-view"-->
      <!--data-bs-toggle="tab" role="tab"><i-->
      <!--class="fi-arrow-back fs-lg me-2"></i>Back</a>-->
      <!--</li>-->
      <li class="nav-item me-2" *ngIf="review || backBtn" (click)="backBtn=false">
        <a id="package-back-btn" class="btn btn-md btn-outline-info package-viewer-g-btn" href="#package-view"
           data-bs-toggle="tab"
           role="tab" (click)="review=false"><i
          class="fi-arrow-back fs-lg me-2"></i>Back</a>
      </li>
      <li class="nav-item me-2" *ngIf="itemPackageObj.backBtn===undefined" (click)="backBtn=true">
        <a class="btn btn-md btn-outline-primary" href="#package-edit" data-bs-toggle="tab" role="tab"><i
          class="fi-edit fs-lg me-2"></i>Edit</a>
      </li>
      <li class="nav-item me-2" *ngIf="itemPackageObj.backBtn===undefined">
        <a class="btn btn-md btn-outline-danger" rel="noopener"
           data-bs-toggle="modal" data-bs-target="#confirm-dialog-package-edit"
           (click)="setDialogBox('Do you want to remove <b>'+packageItem.itemPackage.name+'</b> ?',false)">
          <i class="fi-trash fs-lg me-2"></i>Remove</a>
      </li>
      <li class="nav-item me-2" (click)="backBtn=true">
        <a class="btn btn-md btn-outline-primary" href="#package-review" data-bs-toggle="tab" role="tab"
           (click)="getItemPackageReviews()">
          <i class="fi-star fs-lg me-2"></i>Reviews</a>
      </li>
      <!--<li class="nav-item me-2">-->
      <!--<a class="btn btn-md btn-outline-primary" href="#item-package-review" data-bs-toggle="tab" role="tab"-->
      <!--(click)="getItemPackageReviews()">-->
      <!--<i class="fi-star fs-lg me-2"></i>Reviews</a>-->
      <!--</li>-->
    </ul>
  </div>
</div>

<div id="confirm-dialog-package-edit" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true"
     style="z-index: 999999999">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header border-none">
        <div class="d-flex w-100 justify-content-between">
          <a class="btn btn-icon btn-primary btn-md shadow-sm rounded-circle me-2 mb-0">
            <i class="fi-shopping-bag"></i></a>
          <h5 class="modal-title" style="margin-top: 8px">Item</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
      </div>
      <div class="modal-body">
        <p [innerHTML]="confirmation.message"></p>
      </div>
      <div *ngIf="!confirmation.reply" class="modal-footer border-none">
        <button type="submit" class="btn btn-success btn-sm"
                (click)="removeItem(packageItem.itemId)">Yes
        </button>
        <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal">No</button>
      </div>
      <div *ngIf="confirmation.reply" class="modal-footer border-none">
        <button type="button" class="btn btn-success btn-sm" data-bs-dismiss="modal">Done</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" role="dialog" id="new-packageFeature-edit" tabindex="-1" aria-hidden="true"
     style="z-index: 9999">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <ul class="nav nav-tabs mb-0" role="tablist">
          <li class="nav-item">
            <a class="nav-link active" href="#add-feature" data-bs-toggle="tab" role="tab" aria-selected="true">
              <i class="fi-plus fs-sm me-2 ms-n1"></i>
              Add new Feature
            </a>
          </li>
        </ul>
        <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body tab-content py-4">
        <div class="alert alert-info d-flex" role="alert">
          <i class="fi-alert-circle me-2 me-sm-3 lead"></i>
          <div>It takes few minutes to review your feature.Then we will add it into your item.</div>
        </div>
        <form class="tab-pane fade show active" autocomplete="off" id="add-feature-e"
              #baManageFormPackageFeature="ngForm"
              (ngSubmit)="baManageFormPackageFeature.form.valid && addFeatureTemp()" novalidate>
          <div class="mb-3">
            <label class="form-label" for="feature">Feature</label>
            <div style="display: flex">
              <input class="form-control" type="text" id="featureE" placeholder="Enter your feature"
                     required [(ngModel)]="newPackageFeature" #newFeatureE="ngModel" name="newFeature">
              <button style="margin-left: 10px" type="submit"
                      class="btn btn-light-primary btn-icon shadow-sm">
                <i class="fi-plus"></i>
              </button>
            </div>
          </div>
          <div *ngIf="(newFeatureE.touched || baManageFormPackageFeature.submitted) && newFeatureE.errors?.required"
               class="validErr" style="margin-bottom: 10px">
            Item Feature is required
          </div>
          <div class="row">
            <div class="d-flex flex-wrap mb-4">
                <span *ngFor="let packageFeature of newPackageFeaturesTemp;let i = index"
                      class="bg-success text-light fs-sm btn btn-xs opacity-100 rounded-pill me-2 mb-2 ms-1 mt-1">{{packageFeature.name}}
                  <i class="fi-x fs-xs ms-2" (click)="newPackageFeaturesTemp.splice(i, 1)"
                     style="cursor: pointer;z-index: 9"></i>
                </span>
            </div>
          </div>

          <div class="mb-3 d-flex flex-wrap justify-content-between">
            <div class="form-check mb-2">
              <input class="form-check-input" type="checkbox" id="trueinfoconfirmE" [(ngModel)]="isNewFeature"
                     name="newFeatureC">
              <label class="form-check-label" for="trueinfoconfirm">I confirm that the provided information
                is accurate and correct.</label>
            </div>
          </div>
          <button data-bs-dismiss="modal" class="btn btn-primary d-block w-100" type="button"
                  (click)="addNewPackageFeature()" [disabled]="!isNewFeature">Save
          </button>
        </form>
      </div>
    </div>
  </div>
</div>

<!--c-->

<div id="confirm-dialog-package" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true"
     style="z-index: 999999999">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header border-none">
        <div class="d-flex w-100 justify-content-between">
          <a class="btn btn-icon btn-primary btn-md shadow-sm rounded-circle me-2 mb-0">
            <i class="fi-shopping-bag"></i></a>
          <h5 class="modal-title" style="margin-top: 8px">Package</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
      </div>
      <div class="modal-body">
        <p [innerHTML]="confirmation.message"></p>
      </div>
      <div *ngIf="!confirmation.reply" class="modal-footer border-none">
        <button type="submit" class="btn btn-success btn-sm"
                (click)="removePackage()">Yes
        </button>
        <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal">No</button>
      </div>
      <div *ngIf="confirmation.reply" class="modal-footer border-none">
        <button type="button" class="btn btn-success btn-sm" data-bs-dismiss="modal">Done</button>
      </div>
    </div>
  </div>
</div>
