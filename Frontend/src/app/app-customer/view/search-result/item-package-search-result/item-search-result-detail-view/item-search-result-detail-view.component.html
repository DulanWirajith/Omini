<!--Item side viewer-->
<div class="offcanvas offcanvas-end" id="fi-item-viewer" style="width:50rem;">
  <div class="offcanvas-header d-block border-bottom">
    <div class="d-flex align-items-center justify-content-between">
      <h2 class="h5 mb-0">{{item.name}}</h2>
      <button class="btn-close" type="button" data-bs-dismiss="offcanvas"></button>
    </div>

  </div>
  <div class="offcanvas-body">
    <!-- Tabs content-->
    <div class="tab-content">
      <!-- Item View-->
      <div class="tab-pane fade show active" id="item-view" role="tabpanel">
        <div class="row">
          <div class="row g-2 g-md-3 gallery" data-thumbnails="true" style="min-width: 30rem;">
            <!--<div class="col-8"><a class="gallery-item rounded rounded-md-3" href="./asset/img/catalog/01.jpg"-->
            <!--data-sub-html="&lt;h6 class=&quot;fs-sm text-light&quot;&gt;Kids bed&lt;/h6&gt;"><img-->
            <!--src="./asset/img/catalog/01.jpg" alt="Gallery thumbnail"></a></div>-->
            <!--<div class="col-4"><a class="gallery-item rounded rounded-md-3 mb-2 mb-md-3"-->
            <!--href="./asset/img/catalog/02.jpg"-->
            <!--data-sub-html="&lt;h6 class=&quot;fs-sm text-light&quot;&gt;Kids bed&lt;/h6&gt;"><img-->
            <!--src="./asset/img/catalog/02.jpg" alt="Gallery thumbnail"></a>-->
            <!--<a class="gallery-item rounded rounded-md-3" href="./asset/img/catalog/03.jpg"-->
            <!--data-sub-html="&lt;h6 class=&quot;fs-sm text-light&quot;&gt;Working desk&lt;/h6&gt;"><img-->
            <!--src="./asset/img/catalog/03.jpg" alt="Gallery thumbnail"></a></div>-->
            <div class="col-12" *ngIf="_album?.length > 0">
              <div class="row g-2 g-md-3 gallery" style="min-width: 30rem;">

                <div class="col-8">
                  <p class="gallery-item rounded rounded-md-3" (click)="open(firstImg)"
                     data-sub-html="<h6 class=&quot;fs-sm text-light&quot;></h6>" style="height: 100%;">
                    <img [src]="getAlbumSrc(firstImg)" alt="Gallery thumbnail">
                  </p>
                </div>
                <div class="col-4">
                  <p class="gallery-item rounded rounded-md-3 mb-2 mb-md-3" (click)="open(secondImg)"
                     data-sub-html="<h6 class=&quot;fs-sm text-light&quot;></h6>">
                    <img [src]="getAlbumSrc(secondImg)" alt="Gallery thumbnail">
                  </p>
                  <p class="gallery-item rounded rounded-md-3" (click)="open(thirdImg)"
                     data-sub-html="<h6 class=&quot;fs-sm text-light&quot;></h6>">
                    <img [src]="getAlbumSrc(thirdImg)" alt="Gallery thumbnail">
                  </p>
                </div>
                <div class="col-12" *ngIf="_album?.length > 3">
                  <div class="row g-2 g-md-3">
                    <ng-container *ngFor="let items of _album; let i=index;">
                      <ng-container *ngIf="_album?.length ===4 && i+1>3">
                        <div class="col-3">
                          <p class="gallery-item rounded-1 rounded-md-2" (click)="open(i)"
                             data-sub-html="<h6 class=&quot;fs-sm text-light&quot;></h6>">
                            <img [src]="getAlbumSrc(i)" alt="Gallery thumbnail">
                          </p>
                        </div>
                      </ng-container>
                      <ng-container *ngIf="_album?.length > 4 && i+1>3">
                        <div class="col">
                          <p class="gallery-item rounded-1 rounded-md-2" (click)="open(i)"
                             data-sub-html="<h6 class=&quot;fs-sm text-light&quot;></h6>">
                            <img [src]="getAlbumSrc(i)" alt="Gallery thumbnail">
                          </p>
                        </div>
                      </ng-container>
                      <!-- <div class="col" *ngIf="i>3">
                        <p class="gallery-item rounded rounded-md-3" (click)="open(i)" data-sub-html="<h6 class=&quot;fs-sm text-light&quot;></h6>">
                          <img [src]="getAlbumSrc(i)"   alt="Gallery thumbnail">
                        </p>
                      </div> -->
                    </ng-container>

                    <!-- <div class="col">
                      <p class="gallery-item rounded-1 rounded-md-2" (click)="open(thirdImg)" data-sub-html="<h6 class=&quot;fs-sm text-light&quot;></h6>">
                        <img [src]="getAlbumSrc(thirdImg)"   alt="Gallery thumbnail">
                      </p>
                    </div>
                    <div class="col">
                      <p class="gallery-item rounded-1 rounded-md-2" (click)="open(thirdImg)" data-sub-html="<h6 class=&quot;fs-sm text-light&quot;></h6>">
                        <img [src]="getAlbumSrc(thirdImg)"   alt="Gallery thumbnail">
                      </p>
                    </div> -->
                  </div>
                </div>
                <!-- <div class="col-3"  *ngFor="let image of _album; let i=index">
                  <p class="gallery-item rounded rounded-md-3 mb-2 mb-md-3" (click)="open(i)" data-sub-html="<h6 class=&quot;fs-sm text-light&quot;>Kids bed</h6>">
                    <img [src]="image.thumb"  [lightbox]="i"  [gallery]="'anotherLightbox'" alt="Gallery thumbnail">
                  </p>
                </div> -->


                <!-- <div class="col" *ngFor="let itemImg of item.itemImgs">
                  <a class="gallery-item rounded-1 rounded-md-2" href="./asset/img/catalog/03.jpg"
                     data-sub-html="&lt;h6 class=&quot;fs-sm text-light&quot;&gt;Working desk&lt;/h6&gt;">
                    <img [src]="getImageSrc(itemImg)" alt="Gallery thumbnail">
                  </a>
                </div> -->
                <!--<div class="col"><a class="gallery-item more-item rounded-1 rounded-md-2"-->
                <!--href="./asset/img/catalog/07.jpg"-->
                <!--data-sub-html="&lt;h6 class=&quot;fs-sm text-light&quot;&gt;Bathroom&lt;/h6&gt;"><img-->
                <!--src="./asset/img/catalog/07.jpg" alt="Gallery thumbnail"><span class="gallery-item-caption fs-base">+5 <span-->
                <!--class='d-none d-md-inline'>photos</span></span></a></div>-->
              </div>
            </div>
          </div>
        </div>
        <div class="rowg-3  mt-4">
          <h3 class="h4 mb-4"><i class="fi-info-circle text-primary fs-5 mt-n1 me-2"></i>Information</h3>
        </div>
        <!--<div class="row g-2">-->
        <!--<div class="col me-sm-1">-->
        <!--<div class="bg-dark rounded text-center w-100 h-100 p-2 cursor-point">-->
        <!--<i class="fi-dashboard d-block h4 text-light mb-0 mx-center"></i>-->
        <!--<span class="fs-xs text-light fw-bold">{{item.quantity}}</span>-->
        <!--</div>-->
        <!--</div>-->
        <!--<div class="col me-sm-1">-->
        <!--<div class="bg-dark rounded text-center w-100 h-100 p-2 cursor-point">-->
        <!--<i class="fi-precentage d-block h4 text-light mb-0 mx-center fw-bold"></i>-->
        <!--<span class="fs-xs text-light fw-bold">{{item.discount}}</span>-->
        <!--</div>-->
        <!--</div>-->
        <!--<div class="col">-->
        <!--<div class="bg-dark rounded text-center w-100 h-100 p-2 cursor-point">-->
        <!--<i class="fi-cash d-block h4 text-light mb-0 mx-center"></i>-->
        <!--<span class="fs-xs text-light fw-bold">LKR {{item.price}}</span>-->
        <!--</div>-->
        <!--</div>-->
        <!--</div>-->
        <!--<div class="row cols-md-4 col-info">-->
          <!--<div class="col">-->
            <!--<div style="background-color: rgba(229,154,3,0.44)">-->
              <!--<div class="mb-2 fs-sm text-dark fw-bold">Quantity </div>-->
              <!--<div class="fs-sm fw-bold" style="color: #b97800">{{item.quantity}}</div>-->
            <!--</div>-->
          <!--</div>-->
          <!--<div class="col">-->
            <!--<div style="background-color: rgba(229,101,2,0.44)">-->
              <!--<div class="mb-2 fs-sm text-dark fw-bold">Price </div>-->
              <!--<div class="fs-sm fw-bold" style="color: #b96802">-->
                <!--<div>{{'LKR '+item.price}}</div>-->
                <!--<div>{{'LKR '+item.price}}</div>-->
              <!--</div>-->
            <!--</div>-->
          <!--</div>-->
          <!--<div class="col">-->
            <!--<div style="background-color: rgba(229,66,5,0.44)">-->
              <!--<div class="mb-2 fs-sm text-dark fw-bold">Discount </div>-->
              <!--<div class="fs-sm fw-bold" style="color: #b94701">-->
                <!--{{item.discountType==='None' ? 'N/A' :-->
                <!--item.discountType==='Cash' ? ('LKR '+item.discount) :-->
                <!--item.discountType==='Percentage' ? (item.discount + '%') : ''}}-->
              <!--</div>-->
            <!--</div>-->
          <!--</div>-->
        <!--</div>-->
        <div class="border-top border-light pt-0 mb-2">
          <div class="fw-bold" style="font-size: 21px;margin-top: 0px;margin-bottom: 15px">
            <i class="fi-cash mt-n1 me-2 lead align-middle opacity-70" style="font-size: 30px"></i>
            <span *ngIf="item.discountType==='None'">LKR {{item.price}}</span>
            <span *ngIf="item.discountType!=='None'" style="text-decoration: line-through;color: red">LKR {{item.price}}</span>
            <span *ngIf="item.discountType!=='None'" style="margin-left: 10px">LKR {{calcDiscount(item)}}</span>
          </div>
          <div class="row cols-sm-2 row-cols-md-12"
               style="border-top: 1px solid #eaeaea;border-bottom: 1px solid #eaeaea;margin-top: 0px;margin-bottom: 20px">
            <div class="col" style="padding: 0px">
              <div style="border-right: 1px solid #d3d3d3">
                <p class="mb-1 fs-sm" style="margin-top: 7px;color: #d48f03;font-weight: bold;text-align: center">
                  Quantity </p>
                <p class="mb-2 fs-sm fw-bold mx-2" style="text-align: center;color: #f29d00">{{item.quantity}}</p>
              </div>
            </div>
            <div class="col" style="padding: 0px">
              <p class="mb-2 fs-sm" style="margin-top: 7px;color: #b94701;font-weight: bold;text-align: center">
                Discount </p>
              <p class="mb-2 fs-sm text-primary fw-bold" style="text-align: center">
                {{item.discountType==='None' ? 'N/A' :
                item.discountType==='Cash' ? ('LKR '+item.discount) :
                item.discountType==='Percentage' ? (item.discount + '%') : ''}}
              </p>
            </div>
          </div>
        </div>

        <div class="row cols-md-12 mt-3">
          <p class="mb-2 fs-sm text-dark fw-bold">Overview </p>
          <div class="col">
            <p class="mb-2 fs-sm text-muted">{{item.description}} </p>
          </div>
        </div>

        <div class="row cols-md-12 mt-2">
          <p class="mb-2 fs-sm text-dark fw-bold">Features </p>
          <div class="col" *ngFor="let itemFeature of item.itemItemFeatures">
            <span class="bg-success text-light fs-sm btn btn-xs disabled opacity-100 rounded-pill me-2 mb-2 ms-1 mt-1">
              {{itemFeature.itemFeature.name}}
              <!--<i class="fi-x fs-xs ms-2"></i>-->
            </span>
          </div>
        </div>
      </div>

    </div>
  </div>
  <div class="offcanvas-footer border-top" style="display: block;">
    <ul class="nav nav-tabs justify-content-end" role="tablist">
      <li class="nav-item me-2">
        <button class="btn btn-icon btn-success btn-lg text-light shadow-sm rounded-circle" type="button"
                data-bs-toggle="tooltip" title="Add to Cart">
          <i class="fi-cart"></i></button>
      </li>
      <li class="nav-item me-2">
        <a class="btn btn-md btn-outline-info" href="#item-view" data-bs-toggle="tab" role="tab"><i
          class="fi-arrow-back fs-lg me-2"></i>Back</a>
      </li>
      <li class="nav-item me-2">
        <a class="btn btn-md btn-outline-primary" href="#item-review" data-bs-toggle="tab" role="tab"><i
          class="fi-star fs-lg me-2"></i>Reviews</a>
      </li>
    </ul>
  </div>
</div>
