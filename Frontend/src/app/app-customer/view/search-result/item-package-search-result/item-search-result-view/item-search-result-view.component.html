<div class="row g-4 py-1">

  <div class="col-sm-12 col-md-6 col-xl-4" *ngFor="let item of items">
    <div class="card shadow-sm card-hover border-0 h-100">
      <div class="tns-carousel-wrapper card-img-top card-img-hover"><a class="img-overlay"></a>
        <div class="position-absolute start-0 top-0 pt-3 ps-3"><span
          class="d-table badge bg-primary cursor-point"><h4 class="h6 text-light fs-sm"
                                                            style="margin-bottom: 0px;"><i
          class="fi-star fs-sm"></i> 4.5 / 5</h4></span></div>
        <div class="content-overlay end-0 top-0 pt-3 pe-3">
          <button class="btn btn-icon btn-light btn-xs text-primary rounded-circle" type="button"
                  data-bs-toggle="tooltip" data-bs-placement="left" title="Add to favourite"><i
            class="fi-heart"></i></button>
        </div>
        <mdb-carousel class="carousel slide carousel-fade" [animation]="'fade'">
          <mdb-carousel-item *ngFor="let image of item.itemImgs">
            <span style="height: 100%;width: 100%;background-color: rgba(0,0,0,0.25);position: absolute"></span>
            <img style="max-height:200px;height: 200px" class="d-block w-100" [src]="getImageSrc(image)"
                 alt="First slide">
          </mdb-carousel-item>
        </mdb-carousel>
      </div>
      <div class="position-relative" style="margin: 15px 15px 0px 15px">
        <h3 class="h6 fs-base" style="margin-bottom: 0px">
          <a class="nav-link" data-bs-toggle="offcanvas"
             (click)="getItemSelected(item)"
             data-bs-target="#item-viewer-g" style="font-weight: bold;padding: 0px">{{item.name}}</a>
        </h3>
        <div class="border-top border-light pt-0 mb-2">

          <div class="row cols-sm-2 row-cols-md-12"
               style="border-top: 1px solid #eaeaea;border-bottom: 1px solid #eaeaea;margin-top: 10px;margin-bottom: 10px">
            <div class="col" style="padding: 0px">
              <div style="border-right: 1px solid #d3d3d3">
                <p class="mb-1 fs-sm" style="margin-top: 7px;color: #d48f03;font-weight: bold;text-align: center">
                  Quantity </p>
                <p class="mb-2 fs-sm fw-bold mx-2" style="text-align: center;color: #f29d00">{{item.quantity}}</p>
              </div>
            </div>
            <div class="col" style="padding: 0px">
              <p class="mb-2 fs-sm" style="margin-top: 7px;color: #b94701;font-weight: bold;text-align: center">
                Discount </p>
              <p class="mb-2 fs-sm text-primary fw-bold" style="text-align: center">
                {{item.discountType==='None' ? 'N/A' :
                item.discountType==='Cash' ? ('LKR '+item.discount) :
                item.discountType==='Percentage' ? (item.discount + '%') : ''}}
              </p>
            </div>
          </div>
          <div class="fw-bold"><i class="fi-cash mt-n1 me-2 lead align-middle opacity-70"></i>
            <span *ngIf="item.discountType==='None'">LKR {{item.price}}</span>
            <span *ngIf="item.discountType!=='None'" style="text-decoration: line-through;color: red">LKR {{item.price}}</span>
            <span *ngIf="item.discountType!=='None'" style="margin-left: 10px">LKR {{item.discountedPrice}}</span>
          </div>
        </div>
      </div>
      <div class="card-footer d-flex pt-3 text-nowrap">

        <div class="d-flex align-items-center justify-content-between w-100">
          <div class="fs-sm">
            <div class="d-flex d-md-block d-lg-flex align-items-start mb-2">
              <img class="rounded-circle" src="../../../../../assets/img/37.png" width="48" alt="Annette Black">
              <div class="pt-md-2 pt-lg-0 ps-3 ps-md-0 ps-lg-3">
                <h2 class="fs-sm mb-0">
                  <a style="padding: 0px;font-weight: bold" class="nav-link">
                    {{item.businessProfileCategory.businessProfile.businessName}}
                  </a>
                </h2>
                <div class="star-rating">
                  <i class="star-rating-icon fi-star-filled active"></i>
                  <i class="star-rating-icon fi-star-filled active"></i>
                  <i class="star-rating-icon fi-star-filled active"></i>
                  <i class="star-rating-icon fi-star-filled active"></i>
                  <i class="star-rating-icon fi-star-filled active"></i>
                </div>
              </div>

            </div>
          </div>
          <div style="display: flex" *ngIf="item.orderDetail!==undefined">
            <button style="background-color: #06A773"
                    class="btn btn-icon btn-sm text-primary rounded-circle"
                    type="button" data-bs-toggle="tooltip" title="Add to Cart" (click)="addToCart(item)">
              <i class="fi-cart" style="color: white"></i></button>
            <div *ngIf="item.orderDetail!==undefined && item.orderDetail.quantity>0"
                 style="padding: 2px 5px 2px 5px;color: #1b945b;margin-top: 4px;margin-left: 8px;font-weight: bold">
              {{item.orderDetail.quantity}}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>
